{
  "info": {
    "_postman_id": "33f29281-c43f-4716-b431-c13ec1ee2ee1",
    "name": "APMC Khetivadi API",
    "description": "Complete API collection for APMC Khetivadi Backend - Market Commodity Price Data Management System\n\n**Base URL:** http://localhost:5000\n**Version:** v1\n**Last Updated:** February 16, 2026\n\n## Features\n- ðŸ” User Authentication (Firebase + JWT)\n  - Simplified login-only flow (auto-creates users)\n  - Access token (15 days) + Refresh token (30 days)\n  - Role-based access control\n- ðŸ“Š Real-time market price data synchronization\n- ðŸ” Advanced filtering and sorting\n- ðŸ“ˆ Statistics and aggregations\n- ðŸ“ Location hierarchy queries\n- ðŸ“‰ Market analytics (Live vs Historical comparison)\n- 15+ query parameters\n\n## Authentication\nAfter login, copy the tokens from the response:\n1. Set `access_token` variable for authenticated requests\n2. Set `refresh_token` variable to refresh expired access tokens\n3. Use Authorization header: `Bearer {{access_token}}`\n\n## Documentation\n- Master API Guide: MASTER_API_GUIDE.md\n- React Native Auth Guide: REACT_NATIVE_AUTH_GUIDE.md\n- Sync API Guide: SYNC_API_GUIDE.md\n- Deployment Guide: DEPLOYMENT_GUIDE.md",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "31995230"
  },
  "item": [
    {
      "name": "Root & Health",
      "item": [
        {
          "name": "Root - API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/",
              "host": ["{{base_url}}"],
              "path": [""]
            },
            "description": "Get API information, version, and available endpoints"
          },
          "response": []
        },
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            },
            "description": "Check server health status, uptime, and database connection"
          },
          "response": []
        },
        {
          "name": "API Documentation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1"]
            },
            "description": "Get complete API documentation with all routes and parameters"
          },
          "response": []
        }
      ],
      "description": "Basic endpoints for API information and health monitoring"
    },
    {
      "name": "Authentication API",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"mobileNumber\": \"9876543210\",\n    \"firebaseIdToken\": \"your_firebase_id_token_here\",\n    \"role\": \"farmer\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "Login user with mobile number and Firebase token. Automatically creates account if user doesn't exist.\n\n**Request Body:**\n- `mobileNumber` (required): 10-digit mobile number\n- `firebaseIdToken` (required): Firebase ID token after phone verification\n- `role` (optional): farmer, trader, or admin (default: farmer)\n\n**Response:**\n- `isNewUser`: boolean indicating if account was just created\n- User details (new users get default name User_XXXX)\n- Access token (expires in 15 days)\n- Refresh token (expires in 30 days)\n\n**Note:** Users can update their name later via Update Profile API."
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"refreshToken\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/refresh-token",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "refresh-token"]
            },
            "description": "Get a new access token using refresh token.\n\n**Request Body:**\n- `refreshToken` (required): Valid refresh token\n\n**Response:**\n- New access token (expires in 15 days)"
          },
          "response": []
        },
        {
          "name": "Get Profile (Me)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "me"]
            },
            "description": "Get current user's profile information.\n\n**Headers:**\n- `Authorization`: Bearer {access_token}\n\n**Response:**\n- Complete user profile with populated district and market"
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Rajesh Bhai Patel\",\n    \"district\": \"65a1234567890abcdef12345\",\n    \"market\": \"65a1234567890abcdef12346\",\n    \"preferredLanguage\": \"gu\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "profile"]
            },
            "description": "Update current user's profile.\n\n**Headers:**\n- `Authorization`: Bearer {access_token}\n\n**Request Body:** (all optional)\n- `name`: Updated name\n- `district`: District ObjectId\n- `market`: Market ObjectId\n- `preferredLanguage`: en, gu, or hi\n\n**Response:**\n- Updated user profile"
          },
          "response": []
        },
        {
          "name": "Verify Phone",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"firebaseIdToken\": \"your_firebase_id_token_here\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/verify-phone",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "verify-phone"]
            },
            "description": "Verify phone number using Firebase token.\n\n**Headers:**\n- `Authorization`: Bearer {access_token}\n\n**Request Body:**\n- `firebaseIdToken` (required): Firebase ID token\n\n**Response:**\n- Phone verification status"
          },
          "response": []
        },
        {
          "name": "Update FCM Token",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"fcmToken\": \"your_firebase_cloud_messaging_token_here\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/fcm-token",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "fcm-token"]
            },
            "description": "Update user's FCM (Firebase Cloud Messaging) token for push notifications.\n\n**Headers:**\n- `Authorization`: Bearer {access_token}\n\n**Request Body:**\n- `fcmToken` (required): Firebase Cloud Messaging device token\n\n**Use Case:**\n- Call this API after user login to save FCM token\n- Update token when it changes (token refresh)\n- Required for receiving price alert notifications\n\n**Response:**\n- Success message with fcmTokenUpdated status"
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "logout"]
            },
            "description": "Logout user and invalidate refresh token.\n\n**Headers:**\n- `Authorization`: Bearer {access_token}\n\n**Response:**\n- Success message"
          },
          "response": []
        }
      ],
      "description": "User authentication with Firebase Auth integration - Simplified Login-Only Flow\n\n**Features:**\n- Simplified login-only flow (no separate signup)\n- Auto-creates users if they don't exist\n- Firebase Authentication integration\n- JWT token management (Access + Refresh)\n- Access token: 15 days expiry\n- Refresh token: 30 days expiry\n- Role-based access (farmer, trader, admin)\n- Profile management\n\n**Flow:**\n1. User enters mobile number\n2. Send OTP via Firebase\n3. User enters OTP\n4. Call /login API - will auto-create if new user\n5. Store tokens and navigate to home\n\n**Note:** Store tokens securely. Use `access_token` for API calls and `refresh_token` to get new access tokens."
    },
    {
      "name": "Price Alert API",
      "item": [
        {
          "name": "Create Price Alert",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"districtId\": \"65a1234567890abcdef12345\",\n    \"marketId\": \"65a1234567890abcdef12346\",\n    \"commodityId\": \"65a1234567890abcdef12347\",\n    \"varietyId\": \"65a1234567890abcdef12348\",\n    \"gradeId\": \"65a1234567890abcdef12349\",\n    \"targetPrice\": 3500,\n    \"direction\": \"up\",\n    \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/alerts",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts"]
            },
            "description": "Create a new price alert for commodity.\n\n**Request Body:**\n- `districtId` (required): District ObjectId\n- `marketId` (required): Market ObjectId\n- `commodityId` (required): Commodity ObjectId\n- `varietyId` (optional): Variety ObjectId\n- `gradeId` (optional): Grade ObjectId\n- `targetPrice` (required): Target price in rupees\n- `direction` (required): \"up\" or \"down\"\n- `isActive` (optional): true/false (default: true)\n\n**Direction:**\n- \"up\" = Alert when price goes above targetPrice\n- \"down\" = Alert when price goes below targetPrice\n\n**Note:** Alert will be auto-deleted after notification is sent."
          },
          "response": []
        },
        {
          "name": "Get All My Alerts",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/alerts?isActive=true",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts"],
              "query": [
                {
                  "key": "isActive",
                  "value": "true",
                  "description": "Filter by active status"
                },
                {
                  "key": "market",
                  "value": "",
                  "description": "Filter by market ID",
                  "disabled": true
                },
                {
                  "key": "commodity",
                  "value": "",
                  "description": "Filter by commodity ID",
                  "disabled": true
                }
              ]
            },
            "description": "Get all price alerts for logged-in user.\n\n**Query Parameters:**\n- `isActive` (optional): Filter by active status (true/false)\n- `market` (optional): Filter by market ID\n- `commodity` (optional): Filter by commodity ID"
          },
          "response": []
        },
        {
          "name": "Get Alert Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/alerts/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts", "stats"]
            },
            "description": "Get alert statistics for user.\n\n**Response:**\n- total: Total number of alerts\n- active: Active alerts count\n- inactive: Inactive alerts count"
          },
          "response": []
        },
        {
          "name": "Get Single Alert",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/alerts/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "alert_id_here",
                  "description": "Alert ID"
                }
              ]
            },
            "description": "Get details of a specific alert by ID."
          },
          "response": []
        },
        {
          "name": "Update Alert",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"targetPrice\": 3800,\n    \"direction\": \"up\",\n    \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/alerts/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "alert_id_here",
                  "description": "Alert ID to update"
                }
              ]
            },
            "description": "Update an existing alert.\n\n**Request Body (all optional):**\n- `targetPrice`: New target price\n- `direction`: \"up\" or \"down\"\n- `isActive`: true/false\n- `varietyId`: Update variety\n- `gradeId`: Update grade"
          },
          "response": []
        },
        {
          "name": "Toggle Alert Status",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/alerts/:id/toggle",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts", ":id", "toggle"],
              "variable": [
                {
                  "key": "id",
                  "value": "alert_id_here",
                  "description": "Alert ID to toggle"
                }
              ]
            },
            "description": "Toggle alert active/inactive status.\n\n**Response:**\n- Alert with updated isActive status"
          },
          "response": []
        },
        {
          "name": "Delete Alert",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/alerts/:id",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "alerts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "alert_id_here",
                  "description": "Alert ID to delete"
                }
              ]
            },
            "description": "Permanently delete a price alert."
          },
          "response": []
        }
      ],
      "description": "Price alert management for farmers - Simple and Clean\n\n**Features:**\n- Create alerts with target price and direction (up/down)\n- Get notified when price reaches target\n- Alert auto-deletes after notification\n- Manage multiple alerts per user\n- Filter by market/commodity\n\n**Alert System:**\n- Direction \"up\": Notify when price >= targetPrice\n- Direction \"down\": Notify when price <= targetPrice\n- One direction per alert (not both)\n- Cron job checks prices and sends notifications\n- Alert gets deleted after notification sent\n\n**Use Cases:**\n- Set \"up\" alert at â‚¹3500 â†’ notify when price goes above\n- Set \"down\" alert at â‚¹3000 â†’ notify when price drops below\n\n**Note:** All endpoints require authentication. Use Bearer token."
    },
    {
      "name": "Sync API",
      "item": [
        {
          "name": "Sync Yesterday Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"state\": \"Gujarat\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/sync/yesterday",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "sync", "yesterday"]
            },
            "description": "Sync yesterday's market price data from Data.gov.in API"
          },
          "response": []
        },
        {
          "name": "Sync Specific Date",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"date\": \"10-02-2026\",\n    \"state\": \"Gujarat\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/sync/date",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "sync", "date"]
            },
            "description": "Sync market price data for a specific date (Format: DD-MM-YYYY)"
          },
          "response": []
        },
        {
          "name": "Get Sync Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/sync/status",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "sync", "status"]
            },
            "description": "Get database statistics: total records, states, districts, markets, commodities, varieties, grades"
          },
          "response": []
        }
      ],
      "description": "Data synchronization endpoints for importing market price data from Data.gov.in"
    },
    {
      "name": "Market Prices - Query",
      "item": [
        {
          "name": "Get Market Prices (All Filters)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=7&state=Gujarat&sortBy=arrival_date&sortOrder=desc&page=1&limit=10&populate=true",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "7",
                  "description": "Date range: 7, 15, or 30 days"
                },
                {
                  "key": "startDate",
                  "value": "2026-02-01",
                  "description": "Custom start date (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2026-02-10",
                  "description": "Custom end date (YYYY-MM-DD)",
                  "disabled": true
                },
                {
                  "key": "state",
                  "value": "Gujarat",
                  "description": "Filter by state"
                },
                {
                  "key": "district",
                  "value": "Ahmedabad",
                  "description": "Filter by district",
                  "disabled": true
                },
                {
                  "key": "market",
                  "value": "Ahmedabad APMC",
                  "description": "Filter by market",
                  "disabled": true
                },
                {
                  "key": "commodity",
                  "value": "Wheat",
                  "description": "Filter by commodity name",
                  "disabled": true
                },
                {
                  "key": "commodityCode",
                  "value": "4",
                  "description": "Filter by commodity code",
                  "disabled": true
                },
                {
                  "key": "variety",
                  "value": "Local",
                  "description": "Filter by variety",
                  "disabled": true
                },
                {
                  "key": "grade",
                  "value": "FAQ",
                  "description": "Filter by grade",
                  "disabled": true
                },
                {
                  "key": "minPrice",
                  "value": "1000",
                  "description": "Minimum modal price",
                  "disabled": true
                },
                {
                  "key": "maxPrice",
                  "value": "10000",
                  "description": "Maximum modal price",
                  "disabled": true
                },
                {
                  "key": "sortBy",
                  "value": "arrival_date",
                  "description": "Sort field: arrival_date, modal_price, min_price, max_price"
                },
                {
                  "key": "sortOrder",
                  "value": "desc",
                  "description": "Sort order: asc, desc"
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Records per page (max 100)"
                },
                {
                  "key": "populate",
                  "value": "true",
                  "description": "Populate references: true, false"
                }
              ]
            },
            "description": "Main query endpoint with 15+ filter parameters. Enable/disable query params as needed."
          },
          "response": []
        },
        {
          "name": "Last 7 Days - Gujarat",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=7&state=Gujarat&limit=20&populate=true",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "7"
                },
                {
                  "key": "state",
                  "value": "Gujarat"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "populate",
                  "value": "true"
                }
              ]
            },
            "description": "Get prices for last 7 days in Gujarat"
          },
          "response": []
        },
        {
          "name": "Wheat Prices - Sorted by Price",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=15&commodity=Wheat&sortBy=modal_price&sortOrder=desc&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "15"
                },
                {
                  "key": "commodity",
                  "value": "Wheat"
                },
                {
                  "key": "sortBy",
                  "value": "modal_price"
                },
                {
                  "key": "sortOrder",
                  "value": "desc"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get Wheat prices for last 15 days, sorted by price (highest first)"
          },
          "response": []
        },
        {
          "name": "Price Range Filter (â‚¹5000-7000)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=30&minPrice=5000&maxPrice=7000&sortBy=modal_price&sortOrder=asc&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "30"
                },
                {
                  "key": "minPrice",
                  "value": "5000"
                },
                {
                  "key": "maxPrice",
                  "value": "7000"
                },
                {
                  "key": "sortBy",
                  "value": "modal_price"
                },
                {
                  "key": "sortOrder",
                  "value": "asc"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Filter prices between â‚¹5,000 and â‚¹7,000"
          },
          "response": []
        },
        {
          "name": "Specific District - Ahmedabad",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=30&state=Gujarat&district=Ahmedabad&populate=true&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "30"
                },
                {
                  "key": "state",
                  "value": "Gujarat"
                },
                {
                  "key": "district",
                  "value": "Ahmedabad"
                },
                {
                  "key": "populate",
                  "value": "true"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Get all prices in Ahmedabad district for last 30 days"
          },
          "response": []
        },
        {
          "name": "Custom Date Range",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?startDate=2026-02-01&endDate=2026-02-10&populate=true&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2026-02-01"
                },
                {
                  "key": "endDate",
                  "value": "2026-02-10"
                },
                {
                  "key": "populate",
                  "value": "true"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Query with custom date range (YYYY-MM-DD format)"
          },
          "response": []
        },
        {
          "name": "Without Population (Fast)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices?days=7&populate=false&limit=50",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices"],
              "query": [
                {
                  "key": "days",
                  "value": "7"
                },
                {
                  "key": "populate",
                  "value": "false"
                },
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "Faster query with only IDs (no population)"
          },
          "response": []
        }
      ],
      "description": "Query market prices with various filters and sorting options"
    },
    {
      "name": "Market Prices - Stats",
      "item": [
        {
          "name": "Get Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/stats?days=30&state=Gujarat",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "stats"],
              "query": [
                {
                  "key": "days",
                  "value": "30",
                  "description": "Date range: 7, 15, or 30"
                },
                {
                  "key": "state",
                  "value": "Gujarat",
                  "description": "Filter by state"
                },
                {
                  "key": "commodity",
                  "value": "Wheat",
                  "description": "Filter by commodity",
                  "disabled": true
                }
              ]
            },
            "description": "Get aggregated statistics: total records, avg/min/max prices, top commodities, top markets"
          },
          "response": []
        },
        {
          "name": "Stats - Last 7 Days",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/stats?days=7",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "stats"],
              "query": [
                {
                  "key": "days",
                  "value": "7"
                }
              ]
            },
            "description": "Statistics for last 7 days"
          },
          "response": []
        },
        {
          "name": "Stats - Wheat Only",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/stats?days=30&commodity=Wheat",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "stats"],
              "query": [
                {
                  "key": "days",
                  "value": "30"
                },
                {
                  "key": "commodity",
                  "value": "Wheat"
                }
              ]
            },
            "description": "Statistics for Wheat commodity only"
          },
          "response": []
        }
      ],
      "description": "Statistical analysis and aggregations"
    },
    {
      "name": "Market Prices - Filters",
      "item": [
        {
          "name": "Get All Filter Options",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/filters",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "filters"]
            },
            "description": "Get all available filter values: states, commodities (with codes), varieties, grades, date ranges"
          },
          "response": []
        },
        {
          "name": "Get All Commodities",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/commodities",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "commodities"]
            },
            "description": "Get all commodities with their codes"
          },
          "response": []
        },
        {
          "name": "Get All Varieties",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/varieties",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "varieties"]
            },
            "description": "Get all variety options"
          },
          "response": []
        },
        {
          "name": "Get All Grades",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/grades",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "grades"]
            },
            "description": "Get all grade options"
          },
          "response": []
        }
      ],
      "description": "Get filter options for dropdowns and selections"
    },
    {
      "name": "Market Prices - Locations",
      "item": [
        {
          "name": "Get All States",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/locations/states",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "market-prices", "locations", "states"]
            },
            "description": "Get all available states"
          },
          "response": []
        },
        {
          "name": "Get Districts by State",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/locations/districts/:state",
              "host": ["{{base_url}}"],
              "path": [
                "api",
                "v1",
                "market-prices",
                "locations",
                "districts",
                ":state"
              ],
              "variable": [
                {
                  "key": "state",
                  "value": "Gujarat",
                  "description": "State name"
                }
              ]
            },
            "description": "Get all districts in a specific state"
          },
          "response": []
        },
        {
          "name": "Get Markets by District",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/market-prices/locations/markets/:district",
              "host": ["{{base_url}}"],
              "path": [
                "api",
                "v1",
                "market-prices",
                "locations",
                "markets",
                ":district"
              ],
              "variable": [
                {
                  "key": "district",
                  "value": "Ahmedabad",
                  "description": "District name"
                }
              ]
            },
            "description": "Get all markets in a specific district"
          },
          "response": []
        }
      ],
      "description": "Hierarchical location queries (State â†’ District â†’ Market)"
    },
    {
      "name": "Analytics API",
      "item": [
        {
          "name": "Get Markets List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/markets",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "markets"],
              "query": [
                {
                  "key": "state",
                  "value": "Gujarat",
                  "description": "Filter by state",
                  "disabled": true
                },
                {
                  "key": "district",
                  "value": "Ahmedabad",
                  "description": "Filter by district",
                  "disabled": true
                }
              ]
            },
            "description": "Get all markets with state and district information. Use this to get market IDs for analytics."
          },
          "response": []
        },
        {
          "name": "Get Market Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/market/:marketId",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "market", ":marketId"],
              "variable": [
                {
                  "key": "marketId",
                  "value": "698c6c4a5dc8d42d60acc036",
                  "description": "Market ObjectId (get from markets list)"
                }
              ]
            },
            "description": "Get comprehensive market analytics comparing live data (from Data.gov.in API) with historical data (from database).\n\n**Provides:**\n- Price hikes (commodities with increased prices)\n- Price drops (commodities with decreased prices)\n- New commodities added today\n- Unchanged prices\n- Commodities not updated today\n- Single entry commodities\n- Highest and lowest priced commodities\n- Summary statistics"
          },
          "response": []
        },
        {
          "name": "Get Commodity Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/market/:marketId",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "market", ":marketId"],
              "variable": [
                {
                  "key": "marketId",
                  "value": "698c6c4a5dc8d42d60acc036",
                  "description": "Market ObjectId (get from markets list)"
                }
              ]
            },
            "description": "Get comprehensive market analytics comparing live data (from Data.gov.in API) with historical data (from database).\n\n**Provides:**\n- Price hikes (commodities with increased prices)\n- Price drops (commodities with decreased prices)\n- New commodities added today\n- Unchanged prices\n- Commodities not updated today\n- Single entry commodities\n- Highest and lowest priced commodities\n- Summary statistics"
          },
          "response": []
        },
        {
          "name": "Get Commodity Comparision",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/market/:marketId",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "market", ":marketId"],
              "variable": [
                {
                  "key": "marketId",
                  "value": "698c6c4a5dc8d42d60acc036",
                  "description": "Market ObjectId (get from markets list)"
                }
              ]
            },
            "description": "Get comprehensive market analytics comparing live data (from Data.gov.in API) with historical data (from database).\n\n**Provides:**\n- Price hikes (commodities with increased prices)\n- Price drops (commodities with decreased prices)\n- New commodities added today\n- Unchanged prices\n- Commodities not updated today\n- Single entry commodities\n- Highest and lowest priced commodities\n- Summary statistics"
          },
          "response": []
        },
        {
          "name": "Get Markets by State",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/markets?state=Gujarat",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "markets"],
              "query": [
                {
                  "key": "state",
                  "value": "Gujarat"
                }
              ]
            },
            "description": "Get all markets filtered by state"
          },
          "response": []
        },
        {
          "name": "Get Markets by District",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/analytics/markets?district=Ahmedabad",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "analytics", "markets"],
              "query": [
                {
                  "key": "district",
                  "value": "Ahmedabad"
                }
              ]
            },
            "description": "Get all markets filtered by district"
          },
          "response": []
        }
      ],
      "description": "Market analytics - Compare live data with historical database for comprehensive insights"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string",
      "description": "JWT Access Token (expires in 15 days)"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string",
      "description": "JWT Refresh Token (expires in 30 days)"
    }
  ]
}
